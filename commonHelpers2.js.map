{"version":3,"file":"commonHelpers2.js","sources":["../src/js/main.js","../src/js/give-rating.js","../src/js/modal-window-exercise.js","../src/js/exerciselist.js","../src/js/exercisesgallery.js","../src/js/footer.js"],"sourcesContent":["// Кнопка скролу догори\nconst backToTopBtn = document.querySelector('.back-to-top');\n\nconst animateScrollTop = () => {\n  const distance = Math.max(\n    document.documentElement.scrollTop,\n    document.body.scrollTop\n  );\n\n  if (distance > 0) {\n    window.requestAnimationFrame(animateScrollTop);\n    window.scrollTo(0, distance - distance / 8);\n  }\n};\n\nbackToTopBtn.addEventListener('click', animateScrollTop);\n\nwindow.addEventListener('scroll', () => {\n  const scrolled =\n    window.pageYOffset ||\n    document.documentElement.scrollTop ||\n    document.body.scrollTop;\n\n  if (scrolled > 350) {\n    backToTopBtn.classList.add('active');\n  } else {\n    backToTopBtn.classList.remove('active');\n  }\n});\n// Кнопка скролу догори\n","import axios from 'axios';\nimport iziToast from \"izitoast\";\n\nimport { renderExercise } from './modal-window-exercise';\n\nconst modalGiveRating = document.querySelector('.modal-give-rating');\nconst giveRatingForm = document.querySelector('.give-rating-form');\nconst giveRatingCloseBtn = document.querySelector('.give-rating-close');\nconst giveRatingSendBtn = giveRatingForm.querySelector('button[type=\"submit\"]');\nconst giveRatingCurrentRating = document.querySelector('.give-rating-p1');\nconst backDrop = document.querySelector('.backdrop');\nconst markupModal = document.querySelector('.modal-window');\nconst URL = 'https://energyflow.b.goit.study/api';\nconst starsUl = document.querySelector('.give-rating-stars');\nconst NUMBER_OF_STARS = 5;\nlet selectedRating;\nlet exerciseId;\n\nconst starClickHandler = (event, liStar) => {\n    selectedRating = event.currentTarget.querySelector('input').value;\n    const selectedItems = Array.from(liStar).slice(0, selectedRating);\n    const unselectedItems = Array.from(liStar).slice(selectedRating);\n    selectedItems.forEach(li => li.classList.add('li-selected'));\n    unselectedItems.forEach(li =>\n      li.classList.replace('li-selected', 'li-unselected')\n    );\n  }\n\nconst submitFormHandler = async event => {\n    giveRatingSendBtn.disabled = true;\n    event.preventDefault();\n    try {\n      if (!selectedRating) {\n        throw Error('Please select rating!');\n      }\n      await axios.patch(`${URL}/exercises/${exerciseId}/rating`, {\n        rate: +selectedRating,\n        email: event.target.email.value,\n        review: event.target.comment.value,\n      });\n      giveRatingForm.reset();\n      showModalExercise();\n      renderExercise(exerciseId);\n    } catch (e) {\n        iziToast.error({\n            message: e.response?.data?.message || e.message,\n            position: 'topRight',\n            icon: ''\n        });\n    } finally {\n      giveRatingSendBtn.disabled = false;\n    }\n    return false;\n  }\n\nexport const prepareGiveRatingModal = (exercise_id, currentRating) => {\n  starsUl.innerHTML = '';\n  selectedRating = undefined;\n  exerciseId = exercise_id;\n  giveRatingCurrentRating.innerHTML = currentRating;\n  const svgHtml = `\n  <svg\n    class=\"icon-Star-2\"\n    width=\"24\"\n    height=\"24\"\n    aria-label=\"modal rating star icon\"\n  >\n    <use href=\"./img/sprite.svg#icon-Star-2\"></use>\n  </svg>`;\n  const lies = [];\n  for (let i = 0; i < NUMBER_OF_STARS; i++) {\n    const li = document.createElement('li');\n    li.classList.add('li-star');\n    const label = document.createElement('label');\n    label.innerHTML = svgHtml;\n    label.style.pointerEvents = 'none';\n    const checkboxInput = document.createElement('input');\n    checkboxInput.setAttribute('type', 'checkbox');\n    checkboxInput.style.display = 'none';\n    checkboxInput.setAttribute('value', `${i + 1}`);\n    li.append(label, checkboxInput);\n    lies.push(li);\n  }\n  starsUl.append(...lies);\n\n  const liStar = starsUl.querySelectorAll('li');\n  liStar.forEach(li => {\n    li.addEventListener('click', (event) => starClickHandler(event, liStar));\n  });\n  giveRatingForm.addEventListener('submit', submitFormHandler);\n};\n\ngiveRatingCloseBtn.addEventListener('click', () => {\n  showModalExercise();\n});\n\nconst showModalExercise = () => {\n  modalGiveRating.classList.add('hidden');\n  backDrop.classList.remove('visually-hidden');\n  markupModal.style.display = 'block';\n};\n","import axios from 'axios';\n\nconst markupModal = document.querySelector('.modal-window');\nconsole.log(markupModal);\n\n// --- Start Anna --- //\nimport { prepareGiveRatingModal } from './give-rating';\nconst giveRatingButton = document.querySelector('.modal-btn-rating');\nconst modalGiveRating = document.querySelector('.modal-give-rating');\nconst URL = 'https://energyflow.b.goit.study/api';\n// --- End Anna --- //\n\nexport async function renderExercise(id) {\n  try {\n    const backDrop = document.querySelector('.backdrop');\n    // For testing\n    const exercises = (await axios.get(`${URL}/exercises`)).data.results;\n    const { _id: exerciseId, rating } =\n      exercises[(exercises.length * Math.random()) | 0];\n\n    // ----\n\n    // --- Start Anna --- //\n    giveRatingButton.addEventListener('click', async () => {\n      backDrop.classList.add('visually-hidden');\n      markupModal.classList.add('hidden');\n      prepareGiveRatingModal(exerciseId, rating);\n      modalGiveRating.classList.remove('hidden');\n    });\n    // --- End Anna --- //\n\n    const test = await axios.get(\n      `https://energyflow.b.goit.study/api/exercises/${_id}`\n    );\n    console.log('test', exerciseModalData);\n    const exerciseModalData = test.data;\n    console.log(exerciseModalData);\n    markupModal.innerHTML = exerciseModalData\n      .map(\n        ({\n          gifUrl,\n          name,\n          rating,\n          target,\n          bodyPart,\n          equipment,\n          popularity,\n          burnedCalories,\n          time,\n          description,\n        }) => {\n          const parsedRating = Math.round(parseFloat(rating));\n          console.log(\n            gifUrl,\n            name,\n            rating,\n            target,\n            bodyPart,\n            equipment,\n            popularity,\n            burnedCalories,\n            time,\n            description\n          );\n          const stars = Array.from(\n            { length: 5 },\n            (_, starIndex) => `\n          <li>\n            <svg class=\"modal-rating-stars-svg\" width=\"18\" height=\"18\">\n              <use href=\"./img/sprite.svg#icon-Star-1\"></use>\n            </svg>\n          </li>\n        `\n          )\n            .map((star, starIndex) => {\n              if (starIndex < parsedRating) {\n                return star.replace('<svg', '<svg class=\"is-active\"');\n              }\n              return star;\n            })\n            .join('');\n\n          return `\n          <div class=\"modal-tablet-pc-ver\">\n            <div class=\"modal-video\"><img src=\"${gifUrl}\" alt=\"Animated GIF\"></div>\n            <div>\n              <h1 class=\"modal-title\">${name}</h1>\n              <div class=\"modal-rating\">\n                <p class=\"modal-rating-numbers\">${parsedRating}</p>\n                <ul class=\"modal-rating-stars\">\n                  ${stars}\n                </ul>\n              </div>\n              <div class=\"modal-info\">\n                <ul class=\"modal-info-list\">\n                  <li>\n                    <h3 class=\"modal-info-list-title\">Target</h3>\n                    <p class=\"modal-info-list-title-value\">${target}</p>\n                  </li>\n                  <li>\n                    <h3 class=\"modal-info-list-title\">Body Part</h3>\n                    <p class=\"modal-info-list-title-value\">${bodyPart}</p>\n                  </li>\n                  <li>\n                    <h3 class=\"modal-info-list-title\">Equipment</h3>\n                    <p class=\"modal-info-list-title-value\">${equipment}</p>\n                  </li>\n                  <li>\n                    <h3 class=\"modal-info-list-title\">Popular</h3>\n                    <p class=\"modal-info-list-title-value\">${popularity}</p>\n                  </li>\n                  <li>\n                    <h3 class=\"modal-info-list-title\">Burned Calories</h3>\n                    <p class=\"modal-info-list-title-value\">${burnedCalories}/${time} min</p>\n                  </li>\n                </ul>\n              </div>\n              <p class=\"descr\">${description}</p>\n            </div>\n          </div>\n        `;\n        }\n      )\n      .join('');\n\n    const addToFavoritesBtn = document.querySelector('.add-to-favorites-btn');\n\n    addToFavoritesBtn.addEventListener('click', addToFavoritesClickHandler);\n\n    function addToFavoritesClickHandler(e) {\n      e.preventDefault();\n\n      const index = favorites.findIndex(\n        exercise => exercise.name === exerciseModalData.name\n      );\n\n      if (index !== -1) {\n        favorites.splice(index, 1);\n        iziToast.show({\n          message: 'Упражнение удалено из избранного',\n          messageColor: '#f7f7fc',\n          backgroundColor: '#3939db',\n          position: 'topRight',\n        });\n      } else {\n        favorites.push(exerciseModalData[0]);\n        addToFavoritesBtn.innerText = 'Убрать из избранного';\n        iziToast.show({\n          message: 'Упражнение добавлено в избранное',\n          messageColor: '#f7f7fc',\n          backgroundColor: '#219c2b',\n          position: 'topRight',\n        });\n      }\n\n      updateFavorites();\n    }\n\n    const closeBtn = document.querySelector('.modal-btn-close');\n    closeBtn.addEventListener('click', closeModal);\n\n    function closeModal() {\n      markupModal.innerHTML = '';\n      backDrop.classList.add('visually-hidden');\n      addToFavoritesBtn.removeEventListener(\n        'click',\n        addToFavoritesClickHandler\n      );\n      closeBtn.removeEventListener('click', closeModal);\n      document.removeEventListener('keydown', escapeKeyHandler);\n      backDrop.removeEventListener('click', backdropClickHandler);\n    }\n\n    function escapeKeyHandler(e) {\n      if (e.key === 'Escape') {\n        closeModal();\n      }\n    }\n\n    document.addEventListener('keydown', escapeKeyHandler);\n\n    function backdropClickHandler(e) {\n      if (e.target === backDrop) {\n        closeModal();\n      }\n    }\n\n    backDrop.addEventListener('click', backdropClickHandler);\n  } catch (error) {}\n}\n\nrenderExercise(1);\n","import axios from 'axios';\r\nimport iziToast from 'izitoast';\r\n\r\nconst galleryTitle = document.querySelector('.gallery-collection');\r\nconst galleryImage = document.querySelector('.gallery-item');\r\nconst galleryExercises = document.querySelector('.filtred-submit');\r\nconst galleryCardsList = document.querySelector('.gallery-list');\r\nconst exerciseTitle = document.querySelector('.exercise-title');\r\nconst cardPaginationButton = document.querySelector('.page-button-list');\r\nconst inputSearchValue = document.querySelector('.input-submit-key');\r\nconst searchExerciseForm = document.querySelector('.filtred-submit');\r\n\r\nconst BASE_URL = 'https://energyflow.b.goit.study/api/';\r\nconst muscleName = 'muscles';\r\nconst bodyPartName = 'bodypart';\r\nconst equipementName = 'equipment';\r\nlet page = 1;\r\n\r\nconst pageContent = {\r\n  content: null,\r\n  title: null,\r\n};\r\n\r\nconst muscleButton = document.querySelector('.muscles');\r\nmuscleButton.classList.add('.active');\r\nmuscleButton.addEventListener('click', updateMusclesContent);\r\n\r\nconst bodyPartsButton = document.querySelector('.body-parts');\r\nbodyPartsButton.addEventListener('click', updateBodyPartsContent);\r\n\r\nconst eqipementButton = document.querySelector('.equipment');\r\neqipementButton.addEventListener('click', updateEquipmentContent);\r\n\r\ncardPaginationButton.addEventListener('click', event => {\r\n  event.preventDefault();\r\n  if (!(event.target.localName === 'button')) {\r\n    return;\r\n  }\r\n  cleanAll();\r\n  page = parseInt(event.target.value);\r\n  const cardQueryParams = { limit: adjustLimit(), page: page };\r\n  cardQueryParams[pageContent.content] = pageContent.title;\r\n  getExercisesByName(cardQueryParams);\r\n});\r\n\r\nfunction updateMusclesContent() {\r\n  cleanAll();\r\n  const exerciseQueryParams = {\r\n    limit: adjustLimit(),\r\n    page: page,\r\n    filter: 'Muscles',\r\n  };\r\n  pageContent.content = muscleName;\r\n  getExercisesSet(exerciseQueryParams);\r\n}\r\n\r\nfunction updateBodyPartsContent() {\r\n  cleanAll();\r\n  const exerciseQueryParams = {\r\n    limit: adjustLimit(),\r\n    page: page,\r\n    filter: 'Body parts',\r\n  };\r\n  pageContent.content = bodyPartName;\r\n  getExercisesSet(exerciseQueryParams);\r\n}\r\n\r\nfunction updateEquipmentContent() {\r\n  cleanAll();\r\n  const exerciseQueryParams = {\r\n    limit: adjustLimit(),\r\n    page: page,\r\n    filter: 'Equipment',\r\n  };\r\n  pageContent.content = equipementName;\r\n  getExercisesSet(exerciseQueryParams);\r\n}\r\n\r\nfunction cleanAll() {\r\n  closeErrorMessage();\r\n  cleanGalleryList();\r\n  cleanGalleryCardList();\r\n}\r\n\r\nasync function getExercisesSet(queryParams) {\r\n  try {\r\n    const result = await axios.get(`${BASE_URL}filters`, {\r\n      params: queryParams,\r\n    });\r\n    console.log(result);\r\n    const { totalPages, results } = result.data;\r\n    if (results.length == 0) {\r\n      alert('NO MORE EXEERCISES');\r\n      return console.log(results.data);\r\n    }\r\n    let renderExersises = results.reduce(\r\n      (html, image) =>\r\n        html +\r\n        `<li class=\"gallery-item\">\r\n                        <a class=\"gallery-link\" href=\"${image.imgUrl}\">\r\n                            <img class=\"gallery-image\" data-source=\"${image.imgUrl}\" src=\"${image.imgUrl}\" alt=\"${image.name}\" width=\"360\" height=\"200\"/>\r\n                        </a>\r\n                        <div class='title'>\r\n                            <p>${image.name}</p>\r\n                        </div>\r\n                </li>`,\r\n      ''\r\n    );\r\n    galleryTitle.insertAdjacentHTML('beforeend', renderExersises);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\ngalleryTitle.addEventListener('click', event => {\r\n  event.preventDefault();\r\n  cleanAll();\r\n  const title = event.target.alt;\r\n  pageContent.title = title;\r\n  page = 1;\r\n  const cardQueryParams = { limit: adjustLimit(), page: page };\r\n  cardQueryParams[pageContent.content] = title;\r\n  updateTitle(title);\r\n  getExercisesByName(cardQueryParams);\r\n});\r\n\r\nfunction updateTitle(title) {\r\n  exerciseTitle.innerHTML = `Exercises / <span class=\"exercise-title-card\"> ${title}</span>`;\r\n}\r\n\r\nasync function getExercisesByName(queryParams) {\r\n  try {\r\n    const res = await axios.get(`${BASE_URL}exercises`, {\r\n      params: queryParams,\r\n    });\r\n    const { totalPages, results } = res.data;\r\n    if (results.length == 0) {\r\n      clearPaginationButton();\r\n      openErrorMessage();\r\n      return;\r\n    }\r\n    let renderExersisesByName = results.reduce((html, image) => {\r\n      const ratingRow = ratingStarRow(image.rating);\r\n      return (\r\n        html +\r\n        `<li class=\"gallery-list-item\">\r\n                <div class=\"workout-box\">\r\n                    <div class=\"workout-rating\">\r\n                        <p class=\"workout-title\">WORKOUT</p>\r\n                        <p class=\"rating-title\">${image.rating}\r\n                          ${ratingRow}\r\n                        </p>\r\n                            <button type=\"button\" class=\"start-button\">Start\r\n                            <span class=\"arrow-icon\">\r\n                                <svg class=\"start-arrow-icon\" width=\"14\" height=\"14\" aria-label=\"start-arrow\">\r\n                                    <use href=\"./img/sprite.svg#icon-arrow\"></use>\r\n                                </svg>\r\n                            </span>\r\n                            </button>\r\n                    </div>\r\n                    <div class=\"workout-type\">\r\n                        <svg class=\"run-man-icon\" width=\"24\" height=\"24\" aria-label=\"run-man\">\r\n                            <use href=\"../img/sprite.svg#icon-lighticon\"></use>\r\n                        </svg>\r\n                        <p class=\"workout-name\">${image.name}</p>\r\n                    </div>\r\n                    <div class=\"body-description\">\r\n                        <p class=\"burned-callories\">Burned calories:\r\n                            <span class=\"amount-callories\">${image.burnedCalories}/${image.time} min</span>\r\n                        </p>\r\n                        <p class=\"filtred-class\">Filtre:\r\n                            <span class=\"filter-type\">${pageContent.content}</span>\r\n                        </p>\r\n                        <p class=\"target\">Target:\r\n                        <span class=\"key-word\">${image.target}</span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </li>`\r\n      );\r\n    }, '');\r\n\r\n    galleryCardsList.insertAdjacentHTML('beforeend', renderExersisesByName);\r\n    cardPaginationButton.innerHTML = createCardPaginationButton(totalPages);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction cleanGalleryList() {\r\n  galleryTitle.replaceChildren();\r\n}\r\n\r\nfunction cleanGalleryCardList() {\r\n  galleryCardsList.replaceChildren();\r\n}\r\n\r\nfunction ratingStarRow(rating) {\r\n  let row = '';\r\n  rating = Math.floor(rating);\r\n  for (let index = 0; index < rating; index++) {\r\n    row += `\r\n        <span class=\"rating-star-icon\">\r\n            <svg class=\"rating-star\" width=\"18\" height=\"18\" aria-label=\"rating-star\">\r\n                   <use href=\"./img/sprite.svg#icon-Star-1\"></use>\r\n            </svg>\r\n        </span>`;\r\n  }\r\n  return row;\r\n}\r\n\r\nfunction createCardPaginationButton(totalPages) {\r\n  let row = '';\r\n  const maxPages = Math.min(totalPages, 5);\r\n  for (let index = 1; index <= maxPages; index++) {\r\n    row += `<button class=\"button-next-page\" value=\"${index}\">${index}</button>`;\r\n  }\r\n  return row;\r\n}\r\n\r\nconst cardErrorMessage = document.querySelector('.card-error-message');\r\n\r\nfunction openErrorMessage() {\r\n  cardErrorMessage.style.visibility = 'visible';\r\n}\r\n\r\nfunction closeErrorMessage() {\r\n  cardErrorMessage.style.visibility = 'hidden';\r\n}\r\n\r\nsearchExerciseForm.addEventListener('click', event => {\r\n  event.preventDefault();\r\n  if (event.target.localName != 'svg') {\r\n    return;\r\n  }\r\n  page = 1;\r\n\r\n  const searchValue = inputSearchValue.value.trim();\r\n  console.log(searchValue);\r\n\r\n  if (searchValue.length === 0) {\r\n    iziToast.error({\r\n      title: 'Error',\r\n      position: 'topCenter',\r\n      message: 'Sorry, Please choose an exercise.',\r\n    });\r\n    return;\r\n  }\r\n  cleanAll();\r\n\r\n  const cardQueryParams = {\r\n    limit: adjustLimit(),\r\n    page: page,\r\n    keyword: searchValue,\r\n  };\r\n  cardQueryParams[pageContent.content] = pageContent.title;\r\n  inputSearchValue.value = '';\r\n  getExercisesByName(cardQueryParams);\r\n});\r\n\r\nfunction clearPaginationButton() {\r\n  cardPaginationButton.replaceChildren();\r\n}\r\n\r\nfunction adjustLimit() {\r\n  const widthScreen = document.documentElement.clientWidth;\r\n  if (widthScreen > 768) {\r\n    return 12;\r\n  }\r\n  return 8;\r\n}\r\n\r\ncloseErrorMessage();\r\nupdateMusclesContent();\r\n","import axios from 'axios';\nconst exercisesTitle = document.querySelector('.exercises-gallery-label');\nconst exercisesGallery = document.querySelector('.exercises-gallery-group');\nconst filterButton = document.querySelector('.exercises-gallery-filter');\nconst pageButtonsContainer = document.querySelector('.page-buttons-container');\nlet titleExerciseSpan = null;\nconst titleExerciseSlash = document.createElement('span');\nconst inputSearchValue = document.querySelector('#filtre-key');\nconst searchExerciseForm = document.querySelector('.search-tool');\n\nimport iziToast from 'izitoast';\nconst cardErrorMessage = document.querySelector('.error-card-message');\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api/';\nlet page = 1;\n\nconst pageContent = {\n  content: null,\n  title: null,\n};\n\nconst baseURL = 'https://energyflow.b.goit.study/api/filters';\nlet urlOptions = {\n  filter: 'Muscles',\n  page: 1,\n  limit: 8,\n};\nconst filterBodypart = 'bodypart';\nlet toggle = 'filter';\nconst defaultFilter = 'muscles';\nconst axiosInstance = axios.create({\n  baseURL: baseURL,\n});\n\nfunction renderExercises(images) {\n  exercisesGallery.innerHTML = '';\n  const newImages = images.results.map(image => {\n    return `<li class=\"exercises-item-background\">\n      <a href=\"${image.imgUrl}\">\n      <div>\n        <img\n          class=\"exercises-item\"\n          src=\"${image.imgUrl}\"\n          alt=\"${image.name}\">\n          <div class=\"text-card\">\n          <p class = \"name-card\">${image.name}</p>\n          <p class = \"type-card\">${image.filter}</p>\n          </div>\n          </div>\n      </a>\n    </li>`;\n  });\n\n  exercisesGallery.insertAdjacentHTML('beforeend', newImages.join(''));\n  return images;\n}\n\nfilterButton.addEventListener('click', function (event) {\n  clearExerciseTitle();\n  closeErrorMessage();\n  searchExerciseForm.style.display = 'none';\n  if (event.target.tagName === 'BUTTON') {\n    toggle = 'filter';\n    const buttonName = event.target.getAttribute('name');\n    handleFilter(buttonName);\n  }\n});\n\nfunction handleFilter(buttonName) {\n  searchExerciseForm.style.display = 'none';\n\n  let selectedFilter = {};\n  galleryForDesktop();\n  switch (buttonName) {\n    case 'body':\n      urlOptions.filter = 'Body parts';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n      break;\n    case 'equipment':\n      urlOptions.filter = 'Equipment';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n      break;\n    default:\n      urlOptions.filter = 'Muscles';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n  }\n  changeButtonColor(selectedFilter);\n\n  const queryStr = new URLSearchParams(urlOptions).toString();\n  const apiUrl = `?${queryStr}`;\n  fetchExercises(apiUrl)\n    .then(images => renderExercises(images))\n    .then(imgages => renderPagesIcon(imgages.totalPages))\n    .catch(error => console.error(error));\n}\n\nfunction fetchUrl() {\n  const queryStr = new URLSearchParams(urlOptions).toString();\n  const apiUrl = `?${queryStr}`;\n  fetchExercises(apiUrl)\n    .then(images => renderExercises(images))\n    .catch(error => console.error(error));\n}\n\nasync function fetchExercises(apiUrl) {\n  try {\n    const response = await axiosInstance.get(apiUrl);\n    // totalPages = response.data.totalPages;\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction changeButtonColor(selectedFilter) {\n  const buttons = filterButton.querySelectorAll('button');\n  const selectedFilterArray = Array.from(selectedFilter);\n  for (let i = 0; i < buttons.length; i++) {\n    const currentButton = buttons[i];\n    if (selectedFilterArray.includes(currentButton)) {\n      currentButton.style.backgroundColor = 'var(--dark-gray)';\n      currentButton.style.color = 'var(--white)';\n    } else {\n      currentButton.style.backgroundColor = 'var(--white-smoke)';\n      currentButton.style.color = 'var(--black)';\n    }\n  }\n  console.log('changeButtonColor function toggle is: ' + toggle);\n}\n\nfunction renderPagesIcon(totalPages) {\n  let pagesMarkup = '';\n  pageButtonsContainer.innerHTML = '';\n  for (let i = 1; i <= totalPages; i++) {\n    if (i === 1) {\n      pagesMarkup += `<li>\n      <button class=\"page-button active\" type=\"button\" id=\"${i}\">${i}</button>\n    </li>`;\n    } else {\n      pagesMarkup += `<li>\n      <button class=\"page-button\" type=\"button\" id=\"${i}\">${i}</button>`;\n    }\n  }\n  pageButtonsContainer.insertAdjacentHTML('afterbegin', pagesMarkup);\n}\n\npageButtonsContainer.addEventListener('click', function (event) {\n  const clickedButton = event.target.closest('.page-button');\n\n  if (clickedButton) {\n    const buttonValue = clickedButton.id;\n\n    changeActiveButton(buttonValue);\n  }\n});\n\nfunction changeActiveButton(index) {\n  const buttons = document.querySelectorAll('.page-button');\n\n  buttons.forEach(button => {\n    if (button.id === index) {\n      button.classList.add('active');\n      switch (toggle) {\n        case 'filter':\n          urlOptions.page = index;\n          fetchUrl();\n          break;\n        case 'workout':\n          page = index;\n          const cardQueryParams = { limit: adjustLimit(), page: page };\n          cardQueryParams[pageContent.content] = pageContent.title;\n          getListExercisesByName(cardQueryParams);\n          break;\n      }\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n\nwindow.addEventListener('resize', event => {\n  event.preventDefault();\n  galleryForDesktop();\n  handleFilter(defaultFilter);\n  changeActiveButton(1);\n});\n\nfunction galleryForDesktop() {\n  const widthScreen = document.documentElement.clientWidth;\n\n  if (widthScreen > 1440) {\n    urlOptions.page = 1;\n    urlOptions.limit = 12;\n  } else {\n    urlOptions.page = 1;\n    urlOptions.limit = 8;\n  }\n}\n\nhandleFilter(defaultFilter);\n\nexercisesGallery.addEventListener('click', event => {\n  event.preventDefault();\n  const cardElement = event.target.closest('.exercises-item-background');\n\n  if (cardElement) {\n    toggle = 'workout';\n    searchExerciseForm.style.display = 'flex';\n    const name = cardElement.querySelector('.name-card').textContent;\n    let filter = cardElement\n      .querySelector('.type-card')\n      .textContent.toLowerCase()\n      .replace(/\\s/g, '');\n    if (filter === 'bodyparts') {\n      filter = filter.slice(0, -1);\n    }\n\n    buildWorkoutGallery(name, filter);\n  }\n});\n\nfunction cleanAll() {\n  closeErrorMessage();\n  clearExerciseTitle();\n  exercisesGallery.innerHTML = '';\n  pageButtonsContainer.innerHTML = '';\n}\n\nfunction ratingStarRow(rating) {\n  let row = '';\n  rating = Math.floor(rating);\n  for (let index = 0; index < rating; index++) {\n    row += `\n        <span class=\"rating-star-icon\">\n            <svg class=\"rating-star\" width=\"18\" height=\"18\" aria-label=\"rating-star\">\n                   <use href=\"./img/sprite.svg#icon-Star-1\"></use>\n            </svg>\n        </span>`;\n  }\n  return row;\n}\n\n/* Search function */\nsearchExerciseForm.addEventListener('click', event => {\n  event.preventDefault();\n  if (event.target.localName != 'svg') {\n    return;\n  }\n  page = 1;\n\n  const searchValue = inputSearchValue.value.trim();\n  console.log(searchValue);\n\n  if (searchValue.length === 0) {\n    iziToast.error({\n      title: 'Error',\n      position: 'topCenter',\n      message: 'Sorry, Please choose an exercise.',\n    });\n    return;\n  }\n  cleanAll();\n\n  const cardQueryParams = {\n    limit: adjustLimit(),\n    page: page,\n    keyword: searchValue,\n  };\n\n  cardQueryParams[pageContent.content] = pageContent.title;\n  inputSearchValue.value = '';\n  getListExercisesByName(cardQueryParams);\n});\n\nfunction adjustLimit() {\n  const widthScreen = document.documentElement.clientWidth;\n  if (widthScreen > 768) {\n    return 12;\n  }\n  return 8;\n}\n\nfunction openErrorMessage() {\n  cardErrorMessage.style.display = 'block';\n}\n\nfunction closeErrorMessage() {\n  cardErrorMessage.style.display = 'none';\n}\ncloseErrorMessage();\n\nfunction buildWorkoutGallery(title, filter) {\n  pageContent.title = title;\n  pageContent.content = filter;\n  page = 1;\n  const cardQueryParams = { limit: adjustLimit(), page: page };\n  cardQueryParams[pageContent.content] = title;\n  updateTitle(title);\n  getListExercisesByName(cardQueryParams);\n}\n\nasync function getListExercisesByName(queryParams) {\n  try {\n    const res = await axios.get(`${BASE_URL}exercises`, {\n      params: queryParams,\n    });\n    const { totalPages, results } = res.data;\n    if (results.length == 0) {\n      //   clearPaginationButton();\n      openErrorMessage();\n      return;\n    }\n    let renderExersisesByName = results.reduce((html, image) => {\n      exercisesGallery.innerHTML = '';\n      pageButtonsContainer.innerHTML = '';\n      const ratingRow = ratingStarRow(image.rating);\n      return (\n        html +\n        `<li class=\"gallery-list-item\">\n                <div class=\"workout-box\">\n                    <div class=\"workout-rating\">\n                        <p class=\"workout-title\">WORKOUT</p>\n                        <p class=\"rating-title\">${image.rating}\n                          ${ratingRow}\n                        </p>\n                            <button type=\"button\" class=\"start-button\">Start\n                            <span class=\"arrow-icon\">\n                                <svg class=\"start-arrow-icon\" width=\"14\" height=\"14\" aria-label=\"start-arrow\">\n                                    <use href=\"./img/sprite.svg#icon-arrow\"></use>\n                                </svg>\n                            </span>\n                            </button>\n                    </div>\n                    <div class=\"workout-type\">\n                        <svg class=\"run-man-icon\" width=\"24\" height=\"24\" aria-label=\"run-man\">\n                            <use href=\"../img/sprite.svg#icon-lighticon\"></use>\n                        </svg>\n                        <p class=\"workout-name\">${image.name}</p>\n                    </div>\n                    <div class=\"body-description\">\n                        <p class=\"burned-callories\">Burned calories:\n                            <span class=\"amount-callories\">${image.burnedCalories}/${image.time} min</span>\n                        </p>\n                        <p class=\"filtred-class\">Filtre:\n                            <span class=\"filter-type\">${pageContent.content}</span>\n                        </p>\n                        <p class=\"target\">Target:\n                        <span class=\"key-word\">${image.target}</span>\n                        </p>\n                    </div>\n                </div>\n            </li>`\n      );\n    }, '');\n\n    exercisesGallery.insertAdjacentHTML('beforeend', renderExersisesByName);\n    toggle = 'workout';\n    if (totalPages < 3) {\n      renderPagesIcon(totalPages);\n    } else {\n      renderPagesIcon(3);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction updateTitle(title) {\n  titleExerciseSpan = document.createElement('span');\n  titleExerciseSpan.classList.add('exercise-title-card');\n  titleExerciseSpan.innerHTML = title;\n\n  titleExerciseSlash.classList.add('exercises-gallery-label');\n  titleExerciseSlash.innerHTML = ' / ';\n\n  exercisesTitle.appendChild(titleExerciseSlash);\n  exercisesTitle.appendChild(titleExerciseSpan);\n}\n\nfunction clearExerciseTitle() {\n  if (titleExerciseSpan) {\n    exercisesTitle.removeChild(titleExerciseSpan);\n    exercisesTitle.removeChild(titleExerciseSlash);\n    titleExerciseSpan = null;\n    closeErrorMessage();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst LOCAL_KEY = 'feedback-form';\n\nconst form = document.querySelector('.footer-modal-form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const { email} = form.elements;\n\n    const userData = {\n      email: email.value.trim(),\n    };\n    iziToast.success({\n        position: 'topCenter',\n        message: `We're excited to have you on board! 🎉 Thank you for subscribing to new exercises on Energy Flow. You've just taken a significant step towards improving your fitness and well-being.`,\n        backgroundColor: 'var( --dark-gray-hover)',\n        messageColor: 'var( --white-smoke)',\n    });\n    console.log(userData);\n  localStorage.removeItem(LOCAL_KEY);\n  form.reset();\n});"],"names":["backToTopBtn","animateScrollTop","distance","modalGiveRating","giveRatingForm","giveRatingCloseBtn","giveRatingSendBtn","giveRatingCurrentRating","backDrop","markupModal","URL","starsUl","NUMBER_OF_STARS","selectedRating","exerciseId","starClickHandler","event","liStar","selectedItems","unselectedItems","li","submitFormHandler","axios","showModalExercise","renderExercise","e","iziToast","_b","_a","prepareGiveRatingModal","exercise_id","currentRating","svgHtml","lies","i","label","checkboxInput","giveRatingButton","id","addToFavoritesClickHandler","index","exercise","exerciseModalData","addToFavoritesBtn","closeModal","closeBtn","escapeKeyHandler","backdropClickHandler","exercises","rating","test","gifUrl","name","target","bodyPart","equipment","popularity","burnedCalories","time","description","parsedRating","stars","_","starIndex","star","galleryTitle","galleryCardsList","exerciseTitle","cardPaginationButton","inputSearchValue","searchExerciseForm","BASE_URL","muscleName","bodyPartName","equipementName","page","pageContent","muscleButton","updateMusclesContent","bodyPartsButton","updateBodyPartsContent","eqipementButton","updateEquipmentContent","cleanAll","cardQueryParams","adjustLimit","getExercisesByName","exerciseQueryParams","getExercisesSet","closeErrorMessage","cleanGalleryList","cleanGalleryCardList","queryParams","result","totalPages","results","renderExersises","html","image","error","title","updateTitle","res","clearPaginationButton","openErrorMessage","renderExersisesByName","ratingRow","ratingStarRow","createCardPaginationButton","row","maxPages","cardErrorMessage","searchValue","exercisesTitle","exercisesGallery","filterButton","pageButtonsContainer","titleExerciseSpan","titleExerciseSlash","baseURL","urlOptions","toggle","defaultFilter","axiosInstance","renderExercises","images","newImages","clearExerciseTitle","buttonName","handleFilter","selectedFilter","galleryForDesktop","changeButtonColor","apiUrl","fetchExercises","imgages","renderPagesIcon","fetchUrl","buttons","selectedFilterArray","currentButton","pagesMarkup","clickedButton","buttonValue","changeActiveButton","button","getListExercisesByName","cardElement","filter","buildWorkoutGallery","LOCAL_KEY","form","email","userData"],"mappings":"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"}
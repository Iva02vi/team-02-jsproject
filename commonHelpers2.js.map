{"version":3,"file":"commonHelpers2.js","sources":["../src/js/main.js","../src/js/exercisesgallery.js","../src/js/footer.js"],"sourcesContent":["// Кнопка скролу догори\nconst backToTopBtn = document.querySelector('.back-to-top');\n\nconst animateScrollTop = () => {\n  const distance = Math.max(\n    document.documentElement.scrollTop,\n    document.body.scrollTop\n  );\n\n  if (distance > 0) {\n    window.requestAnimationFrame(animateScrollTop);\n    window.scrollTo(0, distance - distance / 8);\n  }\n};\n\nbackToTopBtn.addEventListener('click', animateScrollTop);\n\nwindow.addEventListener('scroll', () => {\n  const scrolled =\n    window.pageYOffset ||\n    document.documentElement.scrollTop ||\n    document.body.scrollTop;\n\n  if (scrolled > 350) {\n    backToTopBtn.classList.add('active');\n  } else {\n    backToTopBtn.classList.remove('active');\n  }\n});\n// Кнопка скролу догори\n","import axios from 'axios';\nconst exercisesGallery = document.querySelector('.exercises-gallery');\nconst filterButton = document.querySelector('.exercises-gallery-filter');\nconst pageButtonsContainer = document.querySelector('.page-buttons-container');\n\nconst baseURL = 'https://energyflow.b.goit.study/api/filters';\nlet urlOptions = {\n  filter: 'Muscles',\n  page: 1,\n  limit: 8,\n};\nlet totalPages = 0;\nconst defaultFilter = 'muscles';\nconst axiosInstance = axios.create({\n  baseURL: baseURL,\n});\n\nfunction renderExercises(images) {\n  exercisesGallery.innerHTML = '';\n  const newImages = images.results.map(image => {\n    return `<li class=\"exercises-item\">\n      <a class=\"exercises-item-background \"  href=\"${image.imgUrl}\">\n      <div>\n        <img\n          class=\"exercises-item\"\n          src=\"${image.imgUrl}\"\n          alt=\"${image.name}\">\n          <div class=\"text-card\">\n          <p class = \"name-card\">${image.name}</p>\n          <p class = \"type-card\">${image.filter}</p>\n          </div>\n          </div>\n      </a>\n    </li>`;\n  });\n\n  exercisesGallery.insertAdjacentHTML('beforeend', newImages.join(''));\n  return images;\n}\n\nfunction renderPagesIcon(images) {\n  let pagesMarkup = '';\n  pageButtonsContainer.innerHTML = '';\n  for (let i = 1; i <= images.totalPages; i++) {\n    if (i === 1) {\n      pagesMarkup += `<li>\n      <button class=\"page-button active\" type=\"button\" id=\"${i}\">${i}</button>\n    </li>`;\n    } else {\n      pagesMarkup += `<li>\n      <button class=\"page-button\" type=\"button\" id=\"${i}\">${i}</button>`;\n    }\n  }\n  pageButtonsContainer.insertAdjacentHTML('afterbegin', pagesMarkup);\n}\n\nfilterButton.addEventListener('click', function (event) {\n  if (event.target.tagName === 'BUTTON') {\n    const buttonName = event.target.getAttribute('name');\n    handleFilter(buttonName);\n  }\n});\n\nfunction handleFilter(buttonName) {\n  let selectedFilter = {};\n  galleryForDesktop();\n  switch (buttonName) {\n    case 'body':\n      urlOptions.filter = 'Body parts';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n      break;\n    case 'equipment':\n      urlOptions.filter = 'Equipment';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n      break;\n    default:\n      urlOptions.filter = 'Muscles';\n      selectedFilter = filterButton.querySelectorAll(\n        `button[name=\"${buttonName}\"]`\n      );\n  }\n  changeButtonColor(selectedFilter);\n\n  const queryStr = new URLSearchParams(urlOptions).toString();\n  const apiUrl = `?${queryStr}`;\n  fetchExercises(apiUrl)\n    .then(images => renderExercises(images))\n    .then(imgages => renderPagesIcon(imgages))\n    .catch(error => console.error(error));\n}\n\nfunction fetchUrl() {\n  const queryStr = new URLSearchParams(urlOptions).toString();\n  const apiUrl = `?${queryStr}`;\n  fetchExercises(apiUrl)\n    .then(images => renderExercises(images))\n    .catch(error => console.error(error));\n}\n\nasync function fetchExercises(apiUrl) {\n  try {\n    const response = await axiosInstance.get(apiUrl);\n    totalPages = response.data.totalPages;\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction changeButtonColor(selectedFilter) {\n  const buttons = filterButton.querySelectorAll('button');\n  const selectedFilterArray = Array.from(selectedFilter);\n  for (let i = 0; i < buttons.length; i++) {\n    const currentButton = buttons[i];\n    if (selectedFilterArray.includes(currentButton)) {\n      currentButton.style.backgroundColor = 'var(--dark-gray)';\n      currentButton.style.color = 'var(--white)';\n    } else {\n      currentButton.style.backgroundColor = 'var(--white-smoke)';\n      currentButton.style.color = 'var(--black)';\n    }\n  }\n}\n\npageButtonsContainer.addEventListener('click', function (event) {\n  const clickedButton = event.target.closest('.page-button');\n\n  if (clickedButton) {\n    const buttonValue = clickedButton.id;\n    console.log('Clicked button value: ' + buttonValue);\n    changeActiveButton(buttonValue);\n  }\n});\n\nfunction changeActiveButton(index) {\n  const buttons = document.querySelectorAll('.page-button');\n\n  buttons.forEach(button => {\n    if (button.id === index) {\n      button.classList.add('active');\n      urlOptions.page = index;\n      fetchUrl();\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n\nwindow.addEventListener('resize', () => {\n  galleryForDesktop();\n  handleFilter(defaultFilter);\n  changeActiveButton(1);\n});\n\nfunction galleryForDesktop() {\n  const widthScreen = document.documentElement.clientWidth;\n\n  if (widthScreen > 1440) {\n    urlOptions.page = 1;\n    urlOptions.limit = 12;\n  } else {\n    urlOptions.page = 1;\n    urlOptions.limit = 8;\n  }\n}\n\nhandleFilter(defaultFilter);\n\n/* \nInstructions for Olga-ampilogova: Add the code to your JavaScript project, \nand you can use it to correctly handle clicks on the card and retrieve information about the card.\nFeel free to use this corrected version in your communication. \nIf you have any more questions or if there's anything else I can help you with, let me know!\n\nconst exercisesGallery = document.querySelector('.exercises-gallery');\nexercisesGallery.addEventListener('click', event => {\n  event.preventDefault();\n  const cardElement = event.target.closest('.exercises-item');\n  if (cardElement) {\n    const name = cardElement.querySelector('.name-card').textContent;\n    const filter = cardElement.querySelector('.type-card').textContent;\n    console.log('Clicked on card with name:', name, 'and filter:', filter);\n  }\n});\n*/\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst LOCAL_KEY = 'feedback-form';\n\nconst form = document.querySelector('.footer-modal-form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const { email} = form.elements;\n\n    const userData = {\n      email: email.value.trim(),\n    };\n    iziToast.success({\n        position: 'topRight',\n        message: `We're excited to have you on board! 🎉 Thank you for subscribing to new exercises on Energy Flow. You've just taken a significant step towards improving your fitness and well-being.`,\n    });\n    console.log(userData);\n  localStorage.removeItem(LOCAL_KEY);\n  form.reset();\n});"],"names":["backToTopBtn","animateScrollTop","distance","exercisesGallery","filterButton","pageButtonsContainer","baseURL","urlOptions","totalPages","defaultFilter","axiosInstance","axios","renderExercises","images","newImages","image","renderPagesIcon","pagesMarkup","i","event","buttonName","handleFilter","selectedFilter","galleryForDesktop","changeButtonColor","apiUrl","fetchExercises","imgages","error","fetchUrl","response","buttons","selectedFilterArray","currentButton","clickedButton","buttonValue","changeActiveButton","index","button","LOCAL_KEY","form","email","userData","iziToast"],"mappings":"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"}
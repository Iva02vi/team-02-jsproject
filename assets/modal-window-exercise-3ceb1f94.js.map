{"version":3,"file":"modal-window-exercise-3ceb1f94.js","sources":["../../src/js/header.js","../../src/js/quote.js","../../src/js/mob-menu.js","../../src/js/modal-window-exercise.js"],"sourcesContent":["// ============ navigation =============\n  const firstChild = document.querySelector('.header-navigation-home');\n  const secondChild = document.querySelector('.header-navigation-favorites');\n  const mobFirstChild = document.querySelector('.menu-list-link-home');\n  const mobSecondChild = document.querySelector('.menu-list-link-favorites');\n\nfunction goToPage(path) {\n  location.pathname = path;\n}\n\nconst path = location.pathname;\n\nif (path === '/team-02-jsproject/index.html' || path === '/team-02-jsproject/' || path === '/index.html' || path === '/') {\n  secondChild.classList.remove('is-active');\n  mobSecondChild.classList.remove('is-active');\n  firstChild.classList.add('is-active');\n  mobFirstChild.classList.add('is-active');\n} else if (path === '/team-02-jsproject/favorites.html' || path === '/favorites.html') {\n  firstChild.classList.remove('is-active');\n  mobFirstChild.classList.remove('is-active');\n  secondChild.classList.add('is-active');\n  mobSecondChild.classList.add('is-active');\n}\n","document.addEventListener('DOMContentLoaded', function () {\n  const QUOTE_API_URL = 'https://energyflow.b.goit.study/api/quote';\n  const LOCAL_STORAGE_KEY = 'quoteData';\n\n  const currentDate = new Date().toISOString().split('T')[0];\n  const quoteBlock = document.getElementById('quote');\n\n  const storedData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n\n  if (storedData && storedData.date === currentDate) {\n    // Використовувати збережену цитату, якщо дата не змінилась\n    displayQuote(storedData.quote, storedData.author);\n  } else {\n    fetch(QUOTE_API_URL)\n      .then(response => response.json())\n      .then(data => {\n        const quote = data.quote;\n        const author = data.author;\n\n        // Відображення нової цитати\n        displayQuote(quote, author);\n\n        // Збереження нових даних в localStorage\n        localStorage.setItem(\n          LOCAL_STORAGE_KEY,\n          JSON.stringify({ quote, author, date: currentDate })\n        );\n      })\n      .catch(error => {\n        // Обробка помилок: використовувати статичну цитату, якщо не вдалося отримати відповідь від сервера\n        console.error('Error fetching quote:', error);\n        if (storedData) {\n          displayQuote(storedData.quote, storedData.author);\n        }\n      });\n  }\n\n  // Функція для відображення цитати на сторінці\n  function displayQuote(quote, author) {\n    const quoteText = quoteBlock.querySelector('.quote-text');\n    const quoteAuthor = quoteBlock.querySelector('.quote-author');\n\n    // Додаємо відступи, якщо довжина цитати менша за 100 символів\n    if (quote.length < 100) {\n      quoteText.style.marginTop = '30px';\n      quoteAuthor.style.marginTop = '15px';\n    } else {\n      // Якщо відступи вже вказані в стилях, не робимо нічого\n    }\n\n    quoteText.textContent = quote;\n    quoteAuthor.textContent = author;\n  }\n});\n","  const mobileMenu = document.querySelector('.mobile-menu');\n  const openMenuBtn = document.querySelector('.header-burger');\n  const closeMenuBtn = document.querySelector('.menu-close-button');\n  const closeMenuLink = document.querySelectorAll('.social-links-link');\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n    const scrollLockMethod = !isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n  closeMenuLink.forEach(item => item.addEventListener('click', toggleMenu));\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n// Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });","import axios from 'axios';\n\n\n\n// --- Start Anna --- //\n// import { prepareGiveRatingModal } from './give-rating';\n// const giveRatingButton = document.querySelector('.modal-btn-rating');\n// const modalGiveRating = document.querySelector('.modal-give-rating');\n// const URL = 'https://energyflow.b.goit.study/api';\n// --- End Anna --- //\n\n// export async function renderExercise(id) {\n//   try {\n//     const backDrop = document.querySelector('.backdrop');\n    // For testing\n    // const exercises = (await axios.get(`${URL}/exercises`)).data.results;\n    // const { _id: exerciseId, rating } =\n    //   exercises[(exercises.length * Math.random()) | 0];\n\n    // ----\n\n    // --- Start Anna --- //\n    // giveRatingButton.addEventListener('click', (event) => {\n    //   backDrop.classList.add('visually-hidden');\n    //   markupModal.classList.add('hidden');\n    //   prepareGiveRatingModal(exerciseId, rating);\n    //   modalGiveRating.classList.remove('hidden');\n    //   event.stopImmediatePropagation();\n    // });\n    // --- End Anna --- //\n\n    \n\nconst markupModal = document.querySelector('.modal-window');\n\nexport async function renderExercise(id) {\n  try {\n    const test = await axios.get(`https://energyflow.b.goit.study/api/exercises/${id}`);\n    const exerciseModalData = test.data;\n    console.log(exerciseModalData);\n\n    const stars = document.getElementsByClassName(\"modal-rating-stars\")[0];\n    stars.innerHTML = exerciseModalData.rating;\n    for (let i = 1; i <= 5; i++) {\n      if (i < exerciseModalData.rating) {\n        stars.innerHTML += `<li>\n      \n      <svg class=\"modal-rating-stars-svg\" width=\"18\" height=\"18\">\n        <use href=\"../img/sprite.svg#icon-Star-1\"></use>\n      </svg>\n    </li>`;\n      } else {\n        stars.innerHTML += `<li>\n        \n        <svg class=\"modal-rating-stars-svg\" width=\"18\" height=\"18\">\n          <use href=\"../img/sprite.svg#icon-Star-1\"></use>\n        </svg>\n      </li>`;\n      }\n    }\n\n\n    document.getElementsByClassName(\"imgGif\")[0].src = exerciseModalData.gifUrl;\n    document.getElementsByClassName(\"modal-title\")[0].innerHTML = exerciseModalData.name;\n    document.getElementsByClassName(\"modal-info-list-title-value\")[0].innerHTML = exerciseModalData.target;\n    document.getElementsByClassName(\"modal-info-list-title-value\")[1].innerHTML = exerciseModalData.bodyPart;\n    document.getElementsByClassName(\"modal-info-list-title-value\")[2].innerHTML = exerciseModalData.equipment;\n    document.getElementsByClassName(\"modal-info-list-title-value\")[3].innerHTML = exerciseModalData.popularity;\n    document.getElementsByClassName(\"modal-info-list-title-value\")[4].innerHTML = exerciseModalData.burnedCalories;\n    document.getElementsByClassName(\"descr\")[0].innerHTML = exerciseModalData.description;\n\n\n    const addToFavoritesBtn = document.querySelector('.modal-btn-favorites');\n    const backDrop = document.querySelector('.backdrop');\n\n    addToFavoritesBtn.addEventListener('click', addToFavoritesClickHandler);\n\n    function addToFavoritesClickHandler(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      let favorites = JSON.parse(localStorage.getItem(\"favorites\"))\n      if (favorites == undefined) {\n        favorites = [];\n      }\n\n      const index = favorites.findIndex((exercise) => exercise.name === exerciseModalData.name);\n\n      if (index !== -1) {\n        favorites.splice(index, 1);\n        addToFavoritesBtn.innerText = 'Add to favorites';\n        iziToast.show({\n          message: 'Упражнение удалено из избранного',\n          messageColor: '#f7f7fc',\n          backgroundColor: '#3939db',\n          position: 'topRight'\n        });\n      } else {\n        favorites.push(exerciseModalData);\n        addToFavoritesBtn.innerText = 'Remove from favorites';\n        iziToast.show({\n          message: 'Упражнение добавлено в избранное',\n          messageColor: '#f7f7fc',\n          backgroundColor: '#219c2b',\n          position: 'topRight'\n        });\n      }\n\n        localStorage.setItem(\"favorites\", JSON.stringify(favorites))\n    }\n\n    const closeBtn = document.querySelector('.modal-btn-close');\n    closeBtn.addEventListener('click', closeModal);\n\n    function closeModal() {\n      markupModal.innerHTML = '';\n      backDrop.classList.remove('is-open');\n      addToFavoritesBtn.removeEventListener('click', addToFavoritesClickHandler);\n      closeBtn.removeEventListener('click', closeModal);\n      document.removeEventListener('keydown', escapeKeyHandler);\n      backDrop.removeEventListener('click', backdropClickHandler);\n    }\n\n    function escapeKeyHandler(e) {\n      if (e.key === 'Escape') {\n        closeModal();\n      }\n    }\n    function backdropClickHandler() {\n      closeModal();\n    }\n\n\n    document.addEventListener('keydown', escapeKeyHandler);\n\n    backDrop.addEventListener('click', backdropClickHandler);\n\n  } catch (error) {\n\n  }\n}\n\n\nrenderExercise(\"64f389465ae26083f39b17a4\");\n"],"names":["firstChild","secondChild","mobFirstChild","mobSecondChild","path","QUOTE_API_URL","LOCAL_STORAGE_KEY","currentDate","quoteBlock","storedData","displayQuote","response","data","quote","author","error","quoteText","quoteAuthor","mobileMenu","openMenuBtn","closeMenuBtn","closeMenuLink","toggleMenu","isMenuOpen","scrollLockMethod","item","e","markupModal","renderExercise","id","addToFavoritesClickHandler","favorites","index","exercise","exerciseModalData","addToFavoritesBtn","closeModal","backDrop","closeBtn","escapeKeyHandler","backdropClickHandler","axios","stars","i"],"mappings":"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"}
import{a as D,i as v}from"./vendor-8cce9181.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const F=document.querySelector(".modal-give-rating"),M=document.querySelector(".give-rating-form"),Z=document.querySelector(".give-rating-close"),O=M.querySelector('button[type="submit"]'),ee=document.querySelector(".give-rating-p1"),H=document.querySelector(".backdrop"),J=document.querySelector(".modal-window"),x=document.querySelector(".give-rating-stars"),te="https://energyflow.b.goit.study/api",se=5,oe=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-2",self.location);let y,S;const ne=(e,n)=>{y=e.currentTarget.querySelector("input").value,z(n)},ie=(e,n)=>{z(n)},z=e=>{const n=event.currentTarget.querySelector("input").value;e.forEach((i,a)=>{const t=a<n;i.classList.toggle("li-selected",t),i.classList.toggle("li-unselected",!t)})},ae=async e=>{var n,i;O.disabled=!0,e.preventDefault();try{if(!y)throw Error("Please select rating! Make sure to click!");await D.patch(`${te}/exercises/${S}/rating`,{rate:+y,email:e.target.email.value,review:e.target.comment.value}),v.success({message:"Thanks for your review!",position:"topRight",icon:"",zindex:9999999999}),M.reset(),G(),await T(S)}catch(a){v.error({message:((i=(n=a.response)==null?void 0:n.data)==null?void 0:i.message)||a.message,position:"topRight",icon:"",zindex:9999999999})}finally{O.disabled=!1}return!1},re=(e,n)=>{H.appendChild(F),H.classList.remove("visually-hidden"),J.style.display="none",x.innerHTML="",y=void 0,S=e,ee.innerHTML=n;const i=`
    <svg
      class="icon-Star-2"
      width="24"
      height="24"
      aria-label="modal rating star icon"
    >
      <use href="${oe}"></use>
    </svg>`,a=Array.from({length:se},(o,s)=>{const r=document.createElement("li");r.classList.add("li-star");const c=document.createElement("label");c.innerHTML=i,c.style.pointerEvents="none";const l=document.createElement("input");return l.setAttribute("type","checkbox"),l.style.display="none",l.setAttribute("value",`${s+1}`),r.append(c,l),r});x.append(...a);const t=x.querySelectorAll("li");t.forEach(o=>{o.addEventListener("click",s=>ne(s,t)),o.addEventListener("mouseover",s=>ie(s,t))}),M.addEventListener("submit",ae)};Z.addEventListener("click",async e=>{e.stopImmediatePropagation(),await T(S),G()});const G=()=>{F.classList.add("hidden"),J.style.display="block"},$=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-1",self.location),k=document.querySelector(".backdrop");async function ce(e){return k.classList.add("is-open"),T(e)}const le=document.querySelector(".modal-give-rating"),A=document.querySelector(".modal-btn-rating"),de=document.querySelector(".modal-window");async function T(e){try{let c=function(d){d.stopImmediatePropagation(),d.preventDefault();let f=JSON.parse(localStorage.getItem("favorites"))||[];const B=f.findIndex(X=>X._id===i._id);B!==-1?(f.splice(B,1),o.innerText="Add to favorites",v.show({message:"Exercise removed from favorites",messageColor:"var(--black)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})):(f.push(i),o.innerText="Remove from favorites",v.show({message:"Exercise added to favorites",messageColor:"var(--white-smoke)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})),localStorage.setItem("favorites",JSON.stringify(f))},w=function(){location.pathname.includes("/favorites.html")&&(console.log("favorites...."),Y()),k.classList.remove("is-open"),t.removeEventListener("click",c),l.removeEventListener("click",w),document.removeEventListener("keydown",I),A.removeEventListener("click",N)},I=function(d){d.key==="Escape"&&w()};const i=(await D.get(`https://energyflow.b.goit.study/api/exercises/${e}`)).data;localStorage.setItem("exerciseModalData",JSON.stringify(i));const a=document.getElementsByClassName("modal-rating-stars")[0];a.innerHTML=i.rating;for(let d=1;d<=5;d++)d<i.rating?a.innerHTML+=`<li>
          <svg class="modal-rating-stars-svg" width="18" height="18">
            <use href=${$}></use>
          </svg>
        </li>`:a.innerHTML+=`<li>
          <svg class="modal-rating-stars-svg" width="18" height="18">
            <use href=${$}></use>
          </svg>
        </li>`;document.getElementsByClassName("imgGif")[0].src=i.gifUrl,document.getElementsByClassName("modal-title")[0].innerHTML=i.name,document.getElementsByClassName("modal-info-list-title-value")[0].innerHTML=i.target,document.getElementsByClassName("modal-info-list-title-value")[1].innerHTML=i.bodyPart,document.getElementsByClassName("modal-info-list-title-value")[2].innerHTML=i.equipment,document.getElementsByClassName("modal-info-list-title-value")[3].innerHTML=i.popularity,document.getElementsByClassName("modal-info-list-title-value")[4].innerHTML=i.burnedCalories,document.getElementsByClassName("descr")[0].innerHTML=i.description;const t=document.querySelector(".modal-btn-favorites"),o=document.querySelector(".modal-btn-favorites-text"),r=(JSON.parse(localStorage.getItem("favorites"))||[]).findIndex(d=>d._id===i._id);console.log("find",r),r!==-1?o.innerText="Remove from favorites":o.innerText="Add to favorites",t.addEventListener("click",c);const l=document.querySelector(".modal-btn-close");l.addEventListener("click",w);const N=d=>{k.classList.remove("visually-hidden"),de.classList.add("hidden"),re(e,JSON.parse(localStorage.getItem("exerciseModalData")).rating),le.classList.remove("hidden"),d.stopImmediatePropagation(),localStorage.removeItem("exerciseModalData")};A.addEventListener("click",N),document.addEventListener("keydown",I)}catch(n){v.error({message:n.message,zindex:9999999999})}}const K=document.querySelector(".favorites-page-items-not-found"),u=document.querySelector(".favorites-page-items-gallery"),p=document.querySelector(".favorites-mobile-pagination"),ue=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-arrow",self.location),me=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-lighticon",self.location),ge=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-trash",self.location),b="favorites";let g=JSON.parse(localStorage.getItem(b));const q=3;let W=1,Q;function h(e){e&&(e.style.display="none")}function L(e){e&&(e.style.display="flex")}window.innerWidth<768&&L(p);function ve(){p.innerHTML="";for(let e=1;e<=Q;e++){const n=document.createElement("favorites-mobile-pagination");n.textContent=e,n.classList.add("favorites-pagination-button"),n.addEventListener("click",()=>{W=e,C(g)}),p.appendChild(n)}}const Y=()=>{g=JSON.parse(localStorage.getItem(b))||[],!g||g.length===0?(h(u),h(p)):(h(K),L(u),L(p),Q=Math.ceil(g.length/q),ve(),C(g))};function C(e){const n=(W-1)*q,i=n+q,a=e.slice(n,i);u.innerHTML="";const t=a.reduce((o,s)=>{const r=pe(s.name);return o+`<li class="gallery-list-item">
            <div class="workout-box">
                    <div class="workout-header">
                        <div class="workout-header-wrap">
                            <span class="workout-title">WORKOUT</span>
                            <button type="button" class="delete-workout-btn" id="${s._id}">                            
                                <svg class="trash-icon" id="${s._id}" width="16" height="16" aria-label="trash-icon">
                                  <use href=${ge} id="${s._id}"></use>
                                </svg>
                            </button>
                        </div>
                        <div class="start-button-wrap">
                            <button type="button" class="start-button-item" id=${s._id}>Start
                                <svg class="start-arrow-icon" id=${s._id} width="14" height="14" aria-label="start-arrow">
                                  <use href=${ue}></use>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="workout-type">
                        <svg class="run-man-icon" width="24" height="24" aria-label="run-man">
                            <use href=${me}></use>
                        </svg>
                        <h3 class="workout-name">${r}</h3>
                    </div>
                    <div class="workout-description">
                        <p class="description-item-name">Burned calories:
                            <span class="description-item-value">${s.burnedCalories} / ${s.time} min</span>
                        </p>
                        <p class="description-item-name">Body part:
                            <span class="description-item-value">${s.bodyPart}</span>
                        </p>
                        <p class="description-item-name">Target:
                            <span class="description-item-value">${s.target}</span>
                        </p>
                    </div>
                </div>
        </li>`},"");u.innerHTML=t,u.addEventListener("click",async o=>{let s;const r=o.target;r&&r.closest(".start-button-item")&&(s=r.closest(".start-button-item").getAttribute("id"),await ce(s))}),u.addEventListener("click",o=>{if(o.target.className==="delete-workout-btn"){const s=localStorage.getItem(b),c=JSON.parse(s).filter(l=>l._id!==o.target.id);localStorage.setItem(b,JSON.stringify(c)),c.length===0?(h(u),L(K)):C(c)}})}function pe(e){const n=document.documentElement.clientWidth;let i=20,a=295,t=.7;n>=1440?(i=24,a=424,t=.85):n>=768&&(i=24,a=313,t=.8);const o=a/(i/2)*t;return e.length>o?e.slice(0,o)+"...":e}const j=document.querySelector(".header-navigation-home"),P=document.querySelector(".header-navigation-favorites"),_=document.querySelector(".menu-list-link-home"),U=document.querySelector(".menu-list-link-favorites"),m=location.pathname;m==="/team-02-jsproject/index.html"||m==="/team-02-jsproject/"||m==="/index.html"||m==="/"?(P.classList.remove("is-active"),U.classList.remove("is-active"),j.classList.add("is-active"),_.classList.add("is-active")):(m==="/team-02-jsproject/favorites.html"||m==="/favorites.html")&&(Y(),j.classList.remove("is-active"),_.classList.remove("is-active"),P.classList.add("is-active"),U.classList.add("is-active"));document.addEventListener("DOMContentLoaded",function(){const e="https://energyflow.b.goit.study/api/quote",n="quoteData",i=new Date().toISOString().split("T")[0],a=document.getElementById("quote"),t=JSON.parse(localStorage.getItem(n));t&&t.date===i?o(t.quote,t.author):fetch(e).then(s=>s.json()).then(s=>{const r=s.quote,c=s.author;o(r,c),localStorage.setItem(n,JSON.stringify({quote:r,author:c,date:i}))}).catch(s=>{console.error("Error fetching quote:",s),t&&o(t.quote,t.author)});function o(s,r){const c=a.querySelector(".quote-text"),l=a.querySelector(".quote-author");s.length<100&&(c.style.marginTop="30px",l.style.marginTop="15px"),c.textContent=s,l.textContent=r}});const V=document.querySelector(".mobile-menu"),E=document.querySelector(".header-burger"),fe=document.querySelector(".menu-close-button"),he=document.querySelectorAll(".social-links-link"),R=()=>{const e=E.getAttribute("aria-expanded")==="true"||!1;E.setAttribute("aria-expanded",!e),V.classList.toggle("is-open");const n=e?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[n](document.body)};he.forEach(e=>e.addEventListener("click",R));E.addEventListener("click",R);fe.addEventListener("click",R);window.matchMedia("(min-width: 768px)").addEventListener("change",e=>{e.matches&&(V.classList.remove("is-open"),E.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))});export{ce as o};
//# sourceMappingURL=mob-menu-01472419.js.map

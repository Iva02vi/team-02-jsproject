import{a as H,i as f}from"./vendor-8cce9181.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const j=document.querySelector(".modal-give-rating"),w=document.querySelector(".give-rating-form"),K=document.querySelector(".give-rating-close"),C=w.querySelector('button[type="submit"]'),W=document.querySelector(".give-rating-p1"),I=document.querySelector(".backdrop"),U=document.querySelector(".modal-window"),Q="https://energyflow.b.goit.study/api",S=document.querySelector(".give-rating-stars"),Y=5,V=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-2",self.location);let v,h;const X=(i,n)=>{v=i.currentTarget.querySelector("input").value;const t=Array.from(n).slice(0,v),s=Array.from(n).slice(v);t.forEach(e=>e.classList.add("li-selected")),s.forEach(e=>e.classList.replace("li-selected","li-unselected"))},Z=(i,n)=>{const t=i.currentTarget.querySelector("input").value,s=Array.from(n).slice(0,t),e=Array.from(n).slice(t);s.forEach(o=>o.classList.add("li-selected")),e.forEach(o=>o.classList.replace("li-selected","li-unselected"))},ee=async i=>{var n,t;C.disabled=!0,i.preventDefault();try{if(!v)throw Error("Please select rating! Make sure to click!");await H.patch(`${Q}/exercises/${h}/rating`,{rate:+v,email:i.target.email.value,review:i.target.comment.value}),f.success({message:"Thank you for your review!",position:"topRight",icon:""}),w.reset(),_(),await k(h)}catch(s){f.error({message:((t=(n=s.response)==null?void 0:n.data)==null?void 0:t.message)||s.message,position:"topRight",icon:""})}finally{C.disabled=!1}return!1},te=(i,n)=>{I.appendChild(j),I.classList.remove("visually-hidden"),U.style.display="none",S.innerHTML="",v=void 0,h=i,W.innerHTML=n;const t=`
    <svg
      class="icon-Star-2"
      width="24"
      height="24"
      aria-label="modal rating star icon"
    >
      <use href="${V}"></use>
    </svg>`,s=[];for(let o=0;o<Y;o++){const a=document.createElement("li");a.classList.add("li-star");const l=document.createElement("label");l.innerHTML=t,l.style.pointerEvents="none";const c=document.createElement("input");c.setAttribute("type","checkbox"),c.style.display="none",c.setAttribute("value",`${o+1}`),a.append(l,c),s.push(a)}S.append(...s);const e=S.querySelectorAll("li");e.forEach(o=>{o.addEventListener("click",a=>X(a,e)),o.addEventListener("mouseover",a=>Z(a,e))}),w.addEventListener("submit",ee)};K.addEventListener("click",async i=>{i.stopImmediatePropagation(),await k(h),_()});const _=()=>{j.classList.add("hidden"),U.style.display="block"},R=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-1",self.location),b=document.querySelector(".backdrop");async function se(i){return b.classList.add("is-open"),k(i)}const oe=document.querySelector(".modal-give-rating"),N=document.querySelector(".modal-btn-rating"),ie=document.querySelector(".modal-window");async function k(i){try{let l=function(r){r.stopImmediatePropagation(),r.preventDefault();let u=JSON.parse(localStorage.getItem("favorites"));u==null&&(u=[]);const T=u.findIndex(z=>z.name===t.name);T!==-1?(u.splice(T,1),o.innerText="Add to favorites",f.show({message:"Exercise removed from favorites",messageColor:"var(--black)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})):(u.push(t),o.innerText="Remove from favorites",f.show({message:"Exercise added to favorites",messageColor:"var(--white-smoke)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})),localStorage.setItem("favorites",JSON.stringify(u))},d=function(){location.pathname.includes("/favorites.html")&&(console.log("favorites...."),J()),b.classList.remove("is-open"),e.removeEventListener("click",l),c.removeEventListener("click",d),document.removeEventListener("keydown",q),N.removeEventListener("click",M)},q=function(r){r.key==="Escape"&&d()};const t=(await H.get(`https://energyflow.b.goit.study/api/exercises/${i}`)).data;localStorage.setItem("exerciseModalData",JSON.stringify(t));const s=document.getElementsByClassName("modal-rating-stars")[0];s.innerHTML=t.rating;for(let r=1;r<=5;r++)r<t.rating?s.innerHTML+=`<li>

      <svg class="modal-rating-stars-svg" width="18" height="18">
        <use href=${R}></use>
      </svg>
    </li>`:s.innerHTML+=`<li>

        <svg class="modal-rating-stars-svg" width="18" height="18">
          <use href=${R}></use>
        </svg>
      </li>`;document.getElementsByClassName("imgGif")[0].src=t.gifUrl,document.getElementsByClassName("modal-title")[0].innerHTML=t.name,document.getElementsByClassName("modal-info-list-title-value")[0].innerHTML=t.target,document.getElementsByClassName("modal-info-list-title-value")[1].innerHTML=t.bodyPart,document.getElementsByClassName("modal-info-list-title-value")[2].innerHTML=t.equipment,document.getElementsByClassName("modal-info-list-title-value")[3].innerHTML=t.popularity,document.getElementsByClassName("modal-info-list-title-value")[4].innerHTML=t.burnedCalories,document.getElementsByClassName("descr")[0].innerHTML=t.description;const e=document.querySelector(".modal-btn-favorites"),o=document.querySelector(".modal-btn-favorites-text");let a=JSON.parse(localStorage.getItem("favorites"))||{};console.log("find",a.find(r=>r._id===t._id)),a.find(r=>r._id===t._id)?o.innerText="Remove from favorites":o.innerText="Add to favorites",e.addEventListener("click",l);const c=document.querySelector(".modal-btn-close");c.addEventListener("click",d);const M=r=>{b.classList.remove("visually-hidden"),ie.classList.add("hidden"),te(i,JSON.parse(localStorage.getItem("exerciseModalData")).rating),oe.classList.remove("hidden"),r.stopImmediatePropagation(),localStorage.removeItem("exerciseModalData")};N.addEventListener("click",M),document.addEventListener("keydown",q)}catch(n){f.error({message:n.message,zindex:9999999999})}}const D=document.querySelector(".favorites-page-items-not-found"),g=document.querySelector(".favorites-page-items-gallery"),ne=document.querySelector(".favorites-mobile-pagination"),ae=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-arrow",self.location),re=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-lighticon",self.location),ce=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-trash",self.location),y="favorites";let p=JSON.parse(localStorage.getItem(y));function E(i){i.style.display="none"}function P(i){i.style.display="flex"}window.innerWidth<768&&P(ne);function F(i){g.innerHTML="";const n=i.reduce((t,s)=>{const e=le(s.name);return t+`<li class="gallery-list-item">
                <div class="workout-box">
                    <div class="workout-header">
                        <div class="workout-header-wrap">
                            <span class="workout-title">WORKOUT</span>
                            <button type="button" class="delete-workout-btn" id="${s._id}">                            
                                <svg class="trash-icon" id="${s._id}" width="16" height="16" aria-label="trash-icon">
                                  <use href=${ce} id="${s._id}"></use>
                                </svg>
                            </button>
                        </div>
                        <div class="start-button-wrap">
                            <button type="button" class="start-button-item" id=${s._id}>Start
                                <svg class="start-arrow-icon" id=${s._id} width="14" height="14" aria-label="start-arrow">
                                  <use href=${ae}></use>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="workout-type">
                        <svg class="run-man-icon" width="24" height="24" aria-label="run-man">
                            <use href=${re}></use>
                        </svg>
                        <h3 class="workout-name">${e}</h3>
                    </div>
                    <div class="workout-description">
                        <p class="description-item-name">Burned calories:
                            <span class="description-item-value">${s.burnedCalories} / ${s.time} min</span>
                        </p>
                        <p class="description-item-name">Body part:
                            <span class="description-item-value">${s.bodyPart}</span>
                        </p>
                        <p class="description-item-name">Target:
                            <span class="description-item-value">${s.target}</span>
                        </p>
                    </div>
                </div>
            </li>`},"");g.innerHTML=n,g.addEventListener("click",async t=>{let s;const e=t.target;e&&e.closest(".start-button-item")&&(s=e.closest(".start-button-item").getAttribute("id"),await se(s))}),g.addEventListener("click",t=>{if(t.target.className==="delete-workout-btn"){const s=localStorage.getItem(y),o=JSON.parse(s).filter(a=>a._id!==t.target.id);localStorage.setItem(y,JSON.stringify(o)),o.length===0?(E(g),P(D)):F(o)}})}const J=()=>{p=JSON.parse(localStorage.getItem(y))||{},!p||p.length===0?E(g):(E(D),F(p)),Math.ceil(p.length/3)};function le(i){const n=document.documentElement.clientWidth;let t=20,s=295,e=.7;n>1439?(t=24,s=424,e=.85):n>767&&(t=24,s=313,e=.8);const o=s/(t/2)*e;return i.length>o?i.slice(0,o)+"...":i}const O=document.querySelector(".header-navigation-home"),B=document.querySelector(".header-navigation-favorites"),$=document.querySelector(".menu-list-link-home"),A=document.querySelector(".menu-list-link-favorites"),m=location.pathname;m==="/team-02-jsproject/index.html"||m==="/team-02-jsproject/"||m==="/index.html"||m==="/"?(B.classList.remove("is-active"),A.classList.remove("is-active"),O.classList.add("is-active"),$.classList.add("is-active")):(m==="/team-02-jsproject/favorites.html"||m==="/favorites.html")&&(J(),O.classList.remove("is-active"),$.classList.remove("is-active"),B.classList.add("is-active"),A.classList.add("is-active"));document.addEventListener("DOMContentLoaded",function(){const i="https://energyflow.b.goit.study/api/quote",n="quoteData",t=new Date().toISOString().split("T")[0],s=document.getElementById("quote"),e=JSON.parse(localStorage.getItem(n));e&&e.date===t?o(e.quote,e.author):fetch(i).then(a=>a.json()).then(a=>{const l=a.quote,c=a.author;o(l,c),localStorage.setItem(n,JSON.stringify({quote:l,author:c,date:t}))}).catch(a=>{console.error("Error fetching quote:",a),e&&o(e.quote,e.author)});function o(a,l){const c=s.querySelector(".quote-text"),d=s.querySelector(".quote-author");a.length<100&&(c.style.marginTop="30px",d.style.marginTop="15px"),c.textContent=a,d.textContent=l}});const G=document.querySelector(".mobile-menu"),L=document.querySelector(".header-burger"),de=document.querySelector(".menu-close-button"),ue=document.querySelectorAll(".social-links-link"),x=()=>{const i=L.getAttribute("aria-expanded")==="true"||!1;L.setAttribute("aria-expanded",!i),G.classList.toggle("is-open");const n=i?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[n](document.body)};ue.forEach(i=>i.addEventListener("click",x));L.addEventListener("click",x);de.addEventListener("click",x);window.matchMedia("(min-width: 768px)").addEventListener("change",i=>{i.matches&&(G.classList.remove("is-open"),L.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))});export{se as o};
//# sourceMappingURL=mob-menu-66b3d0cc.js.map

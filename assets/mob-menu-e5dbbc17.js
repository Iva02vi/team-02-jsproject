import{a as j,i as p}from"./vendor-8cce9181.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const D=document.querySelector(".modal-give-rating"),x=document.querySelector(".give-rating-form"),K=document.querySelector(".give-rating-close"),C=x.querySelector('button[type="submit"]'),W=document.querySelector(".give-rating-p1"),I=document.querySelector(".backdrop"),U=document.querySelector(".modal-window"),Q="https://energyflow.b.goit.study/api",S=document.querySelector(".give-rating-stars"),Y=5,V=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-2",self.location);let f,y;const X=(s,i)=>{f=s.currentTarget.querySelector("input").value;const t=Array.from(i).slice(0,f),n=Array.from(i).slice(f);t.forEach(e=>e.classList.add("li-selected")),n.forEach(e=>e.classList.replace("li-selected","li-unselected"))},Z=(s,i)=>{const t=s.currentTarget.querySelector("input").value,n=Array.from(i).slice(0,t),e=Array.from(i).slice(t);n.forEach(o=>o.classList.add("li-selected")),e.forEach(o=>o.classList.replace("li-selected","li-unselected"))},ee=async s=>{var i,t;C.disabled=!0,s.preventDefault();try{if(!f)throw Error("Please select rating! Make sure to click!");await j.patch(`${Q}/exercises/${y}/rating`,{rate:+f,email:s.target.email.value,review:s.target.comment.value}),p.success({message:"Thank you for your review!",position:"topRight",icon:""}),x.reset(),F(),await q(y)}catch(n){p.error({message:((t=(i=n.response)==null?void 0:i.data)==null?void 0:t.message)||n.message,position:"topRight",icon:""})}finally{C.disabled=!1}return!1},te=(s,i)=>{I.appendChild(D),I.classList.remove("visually-hidden"),U.style.display="none",S.innerHTML="",f=void 0,y=s,W.innerHTML=i;const t=`
    <svg
      class="icon-Star-2"
      width="24"
      height="24"
      aria-label="modal rating star icon"
    >
      <use href="${V}"></use>
    </svg>`,n=[];for(let o=0;o<Y;o++){const r=document.createElement("li");r.classList.add("li-star");const l=document.createElement("label");l.innerHTML=t,l.style.pointerEvents="none";const c=document.createElement("input");c.setAttribute("type","checkbox"),c.style.display="none",c.setAttribute("value",`${o+1}`),r.append(l,c),n.push(r)}S.append(...n);const e=S.querySelectorAll("li");e.forEach(o=>{o.addEventListener("click",r=>X(r,e)),o.addEventListener("mouseover",r=>Z(r,e))}),x.addEventListener("submit",ee)};K.addEventListener("click",async s=>{s.stopImmediatePropagation(),await q(y),F()});const F=()=>{D.classList.add("hidden"),U.style.display="block"},R=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-1",self.location),b=document.querySelector(".backdrop");async function se(s){return b.classList.add("is-open"),q(s)}const oe=document.querySelector(".modal-give-rating"),N=document.querySelector(".modal-btn-rating"),ne=document.querySelector(".modal-window");async function q(s){try{let l=function(a){a.stopImmediatePropagation(),a.preventDefault();let m=JSON.parse(localStorage.getItem("favorites"));m==null&&(m=[]);const T=m.findIndex(z=>z.name===t.name);T!==-1?(m.splice(T,1),o.innerText="Add to favorites",p.show({message:"Exercise removed from favorites",messageColor:"var(--black)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})):(m.push(t),o.innerText="Remove from favorites",p.show({message:"Exercise added to favorites",messageColor:"var(--white-smoke)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})),localStorage.setItem("favorites",JSON.stringify(m))},u=function(){location.pathname.includes("/favorites.html")&&(console.log("favorites...."),$()),b.classList.remove("is-open"),e.removeEventListener("click",l),c.removeEventListener("click",u),document.removeEventListener("keydown",w),N.removeEventListener("click",M)},w=function(a){a.key==="Escape"&&u()};const t=(await j.get(`https://energyflow.b.goit.study/api/exercises/${s}`)).data;localStorage.setItem("exerciseModalData",JSON.stringify(t));const n=document.getElementsByClassName("modal-rating-stars")[0];n.innerHTML=t.rating;for(let a=1;a<=5;a++)a<t.rating?n.innerHTML+=`<li>

      <svg class="modal-rating-stars-svg" width="18" height="18">
        <use href=${R}></use>
      </svg>
    </li>`:n.innerHTML+=`<li>

        <svg class="modal-rating-stars-svg" width="18" height="18">
          <use href=${R}></use>
        </svg>
      </li>`;document.getElementsByClassName("imgGif")[0].src=t.gifUrl,document.getElementsByClassName("modal-title")[0].innerHTML=t.name,document.getElementsByClassName("modal-info-list-title-value")[0].innerHTML=t.target,document.getElementsByClassName("modal-info-list-title-value")[1].innerHTML=t.bodyPart,document.getElementsByClassName("modal-info-list-title-value")[2].innerHTML=t.equipment,document.getElementsByClassName("modal-info-list-title-value")[3].innerHTML=t.popularity,document.getElementsByClassName("modal-info-list-title-value")[4].innerHTML=t.burnedCalories,document.getElementsByClassName("descr")[0].innerHTML=t.description;const e=document.querySelector(".modal-btn-favorites"),o=document.querySelector(".modal-btn-favorites-text");let r=JSON.parse(localStorage.getItem("favorites"))||{};console.log("find",r.find(a=>a._id===t._id)),r.find(a=>a._id===t._id)?o.innerText="Remove from favorites":o.innerText="Add to favorites",e.addEventListener("click",l);const c=document.querySelector(".modal-btn-close");c.addEventListener("click",u);const M=a=>{b.classList.remove("visually-hidden"),ne.classList.add("hidden"),te(s,JSON.parse(localStorage.getItem("exerciseModalData")).rating),oe.classList.remove("hidden"),a.stopImmediatePropagation(),localStorage.removeItem("exerciseModalData")};N.addEventListener("click",M),document.addEventListener("keydown",w)}catch(i){p.error({message:i.message,zindex:9999999999})}}const P=document.querySelector(".favorites-page-items-not-found"),d=document.querySelector(".favorites-page-items-gallery"),ie=document.querySelector(".favorites-mobile-pagination");new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-arrow",self.location);new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-lighticon",self.location);new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-trash",self.location);const h="favorites";let v=JSON.parse(localStorage.getItem(h));function E(s){s&&(s.style.display="none")}function _(s){s&&(s.style.display="flex")}window.innerWidth<768&&_(ie);function J(s){if(!d)return;d.innerHTML="";const i=s.reduce((t,n)=>(re(n.name),t+`<li class="gallery-list-item">
          <!-- ваш код тут -->
        </li>`),"");d.innerHTML=i,d.addEventListener("click",async t=>{let n;const e=t.target;e&&e.closest(".start-button-item")&&(n=e.closest(".start-button-item").getAttribute("id"),await se(n))}),d.addEventListener("click",t=>{if(t.target.className==="delete-workout-btn"){const n=localStorage.getItem(h),o=JSON.parse(n).filter(r=>r._id!==t.target.id);localStorage.setItem(h,JSON.stringify(o)),o.length===0?(E(d),_(P)):J(o)}})}const $=()=>{v=JSON.parse(localStorage.getItem(h))||{},!v||v.length===0?E(d):(E(P),J(v)),Math.ceil(v.length/3)};function re(s){const i=document.documentElement.clientWidth;let t=20,n=295,e=.7;i>=1440?(t=24,n=424,e=.85):i>=768&&(t=24,n=313,e=.8);const o=n/(t/2)*e;return s.length>o?s.slice(0,o)+"...":s}const O=document.querySelector(".header-navigation-home"),B=document.querySelector(".header-navigation-favorites"),H=document.querySelector(".menu-list-link-home"),A=document.querySelector(".menu-list-link-favorites"),g=location.pathname;g==="/team-02-jsproject/index.html"||g==="/team-02-jsproject/"||g==="/index.html"||g==="/"?(B.classList.remove("is-active"),A.classList.remove("is-active"),O.classList.add("is-active"),H.classList.add("is-active")):(g==="/team-02-jsproject/favorites.html"||g==="/favorites.html")&&($(),O.classList.remove("is-active"),H.classList.remove("is-active"),B.classList.add("is-active"),A.classList.add("is-active"));document.addEventListener("DOMContentLoaded",function(){const s="https://energyflow.b.goit.study/api/quote",i="quoteData",t=new Date().toISOString().split("T")[0],n=document.getElementById("quote"),e=JSON.parse(localStorage.getItem(i));e&&e.date===t?o(e.quote,e.author):fetch(s).then(r=>r.json()).then(r=>{const l=r.quote,c=r.author;o(l,c),localStorage.setItem(i,JSON.stringify({quote:l,author:c,date:t}))}).catch(r=>{console.error("Error fetching quote:",r),e&&o(e.quote,e.author)});function o(r,l){const c=n.querySelector(".quote-text"),u=n.querySelector(".quote-author");r.length<100&&(c.style.marginTop="30px",u.style.marginTop="15px"),c.textContent=r,u.textContent=l}});const G=document.querySelector(".mobile-menu"),L=document.querySelector(".header-burger"),ae=document.querySelector(".menu-close-button"),ce=document.querySelectorAll(".social-links-link"),k=()=>{const s=L.getAttribute("aria-expanded")==="true"||!1;L.setAttribute("aria-expanded",!s),G.classList.toggle("is-open");const i=s?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[i](document.body)};ce.forEach(s=>s.addEventListener("click",k));L.addEventListener("click",k);ae.addEventListener("click",k);window.matchMedia("(min-width: 768px)").addEventListener("change",s=>{s.matches&&(G.classList.remove("is-open"),L.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))});export{se as o};
//# sourceMappingURL=mob-menu-e5dbbc17.js.map

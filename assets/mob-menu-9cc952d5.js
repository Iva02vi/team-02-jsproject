import{a as D,i as f}from"./vendor-8cce9181.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const F=document.querySelector(".modal-give-rating"),q=document.querySelector(".give-rating-form"),Q=document.querySelector(".give-rating-close"),R=q.querySelector('button[type="submit"]'),Y=document.querySelector(".give-rating-p1"),N=document.querySelector(".backdrop"),U=document.querySelector(".modal-window"),b=document.querySelector(".give-rating-stars"),V=5,X=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-2",self.location);let p,y;const Z=(t,n)=>{p=t.currentTarget.querySelector("input").value,_(n)},ee=(t,n)=>{_(n)},_=t=>{const n=event.currentTarget.querySelector("input").value;t.forEach((o,i)=>{const e=i<n;o.classList.toggle("li-selected",e),o.classList.toggle("li-unselected",!e)})},te=async t=>{var n,o;R.disabled=!0,t.preventDefault();try{if(!p)throw Error("Please select rating! Make sure to click!");await D.patch(`${API_URL}/exercises/${y}/rating`,{rate:+p,email:t.target.email.value,review:t.target.comment.value}),f.success({message:"Thank you for your review!",position:"topRight",icon:""}),q.reset(),P(),await k(y)}catch(i){f.error({message:((o=(n=i.response)==null?void 0:n.data)==null?void 0:o.message)||i.message,position:"topRight",icon:""})}finally{R.disabled=!1}return!1},oe=(t,n)=>{N.appendChild(F),N.classList.remove("visually-hidden"),U.style.display="none",b.innerHTML="",p=void 0,y=t,Y.innerHTML=n;const o=`
    <svg
      class="icon-Star-2"
      width="24"
      height="24"
      aria-label="modal rating star icon"
    >
      <use href="${X}"></use>
    </svg>`,i=Array.from({length:V},(s,r)=>{const l=document.createElement("li");l.classList.add("li-star");const a=document.createElement("label");a.innerHTML=o,a.style.pointerEvents="none";const d=document.createElement("input");return d.setAttribute("type","checkbox"),d.style.display="none",d.setAttribute("value",`${r+1}`),l.append(a,d),l});b.append(...i);const e=b.querySelectorAll("li");e.forEach(s=>{s.addEventListener("click",r=>Z(r,e)),s.addEventListener("mouseover",r=>ee(r,e))}),q.addEventListener("submit",te)};Q.addEventListener("click",async t=>{t.stopImmediatePropagation(),await k(y),P()});const P=()=>{F.classList.add("hidden"),U.style.display="block"},I=new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-Star-1",self.location),E=document.querySelector(".backdrop");async function se(t){return E.classList.add("is-open"),k(t)}const ne=document.querySelector(".modal-give-rating"),O=document.querySelector(".modal-btn-rating"),ie=document.querySelector(".modal-window");async function k(t){try{let a=function(c){c.stopImmediatePropagation(),c.preventDefault();let v=JSON.parse(localStorage.getItem("favorites"))||[];const C=v.findIndex(W=>W._id===o._id);C!==-1?(v.splice(C,1),s.innerText="Add to favorites",f.show({message:"Exercise removed from favorites",messageColor:"var(--black)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})):(v.push(o),s.innerText="Remove from favorites",f.show({message:"Exercise added to favorites",messageColor:"var(--white-smoke)",backgroundColor:"var(--dark-gray)",position:"topRight",zindex:9999999999})),localStorage.setItem("favorites",JSON.stringify(v))},L=function(){location.pathname.includes("/favorites.html")&&(console.log("favorites...."),z()),E.classList.remove("is-open"),e.removeEventListener("click",a),d.removeEventListener("click",L),document.removeEventListener("keydown",M),O.removeEventListener("click",T)},M=function(c){c.key==="Escape"&&L()};const o=(await D.get(`https://energyflow.b.goit.study/api/exercises/${t}`)).data;localStorage.setItem("exerciseModalData",JSON.stringify(o));const i=document.getElementsByClassName("modal-rating-stars")[0];i.innerHTML=o.rating;for(let c=1;c<=5;c++)c<o.rating?i.innerHTML+=`<li>
          <svg class="modal-rating-stars-svg" width="18" height="18">
            <use href=${I}></use>
          </svg>
        </li>`:i.innerHTML+=`<li>
          <svg class="modal-rating-stars-svg" width="18" height="18">
            <use href=${I}></use>
          </svg>
        </li>`;document.getElementsByClassName("imgGif")[0].src=o.gifUrl,document.getElementsByClassName("modal-title")[0].innerHTML=o.name,document.getElementsByClassName("modal-info-list-title-value")[0].innerHTML=o.target,document.getElementsByClassName("modal-info-list-title-value")[1].innerHTML=o.bodyPart,document.getElementsByClassName("modal-info-list-title-value")[2].innerHTML=o.equipment,document.getElementsByClassName("modal-info-list-title-value")[3].innerHTML=o.popularity,document.getElementsByClassName("modal-info-list-title-value")[4].innerHTML=o.burnedCalories,document.getElementsByClassName("descr")[0].innerHTML=o.description;const e=document.querySelector(".modal-btn-favorites"),s=document.querySelector(".modal-btn-favorites-text"),l=(JSON.parse(localStorage.getItem("favorites"))||[]).findIndex(c=>c._id===o._id);console.log("find",l),l!==-1?s.innerText="Remove from favorites":s.innerText="Add to favorites",e.addEventListener("click",a);const d=document.querySelector(".modal-btn-close");d.addEventListener("click",L);const T=c=>{E.classList.remove("visually-hidden"),ie.classList.add("hidden"),oe(t,JSON.parse(localStorage.getItem("exerciseModalData")).rating),ne.classList.remove("hidden"),c.stopImmediatePropagation(),localStorage.removeItem("exerciseModalData")};O.addEventListener("click",T),document.addEventListener("keydown",M)}catch(n){f.error({message:n.message,zindex:9999999999})}}const J=document.querySelector(".favorites-page-items-not-found"),u=document.querySelector(".favorites-page-items-gallery"),re=document.querySelector(".favorites-mobile-pagination");new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-arrow",self.location);new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-lighticon",self.location);new URL("/team-02-jsproject/assets/sprite-7048d1fb.svg#icon-trash",self.location);const h="favorites";let g=JSON.parse(localStorage.getItem(h));function x(t){t&&(t.style.display="none")}function $(t){t&&(t.style.display="flex")}window.innerWidth<768&&$(re);function G(t){if(!u)return;u.innerHTML="";const n=t.reduce((o,i)=>(ae(i.name),o+`<li class="gallery-list-item">
          <!-- ваш код тут -->
        </li>`),"");u.innerHTML=n,u.addEventListener("click",async o=>{let i;const e=o.target;e&&e.closest(".start-button-item")&&(i=e.closest(".start-button-item").getAttribute("id"),await se(i))}),u.addEventListener("click",o=>{if(o.target.className==="delete-workout-btn"){const i=localStorage.getItem(h),s=JSON.parse(i).filter(r=>r._id!==o.target.id);localStorage.setItem(h,JSON.stringify(s)),s.length===0?(x(u),$(J)):G(s)}})}const z=()=>{g=JSON.parse(localStorage.getItem(h))||{},!g||g.length===0?x(u):(x(J),G(g)),Math.ceil(g.length/3)};function ae(t){const n=document.documentElement.clientWidth;let o=20,i=295,e=.7;n>=1440?(o=24,i=424,e=.85):n>=768&&(o=24,i=313,e=.8);const s=i/(o/2)*e;return t.length>s?t.slice(0,s)+"...":t}const B=document.querySelector(".header-navigation-home"),H=document.querySelector(".header-navigation-favorites"),A=document.querySelector(".menu-list-link-home"),j=document.querySelector(".menu-list-link-favorites"),m=location.pathname;m==="/team-02-jsproject/index.html"||m==="/team-02-jsproject/"||m==="/index.html"||m==="/"?(H.classList.remove("is-active"),j.classList.remove("is-active"),B.classList.add("is-active"),A.classList.add("is-active")):(m==="/team-02-jsproject/favorites.html"||m==="/favorites.html")&&(z(),B.classList.remove("is-active"),A.classList.remove("is-active"),H.classList.add("is-active"),j.classList.add("is-active"));document.addEventListener("DOMContentLoaded",function(){const t="https://energyflow.b.goit.study/api/quote",n="quoteData",o=new Date().toISOString().split("T")[0],i=document.getElementById("quote"),e=JSON.parse(localStorage.getItem(n));e&&e.date===o?s(e.quote,e.author):fetch(t).then(r=>r.json()).then(r=>{const l=r.quote,a=r.author;s(l,a),localStorage.setItem(n,JSON.stringify({quote:l,author:a,date:o}))}).catch(r=>{console.error("Error fetching quote:",r),e&&s(e.quote,e.author)});function s(r,l){const a=i.querySelector(".quote-text"),d=i.querySelector(".quote-author");r.length<100&&(a.style.marginTop="30px",d.style.marginTop="15px"),a.textContent=r,d.textContent=l}});const K=document.querySelector(".mobile-menu"),S=document.querySelector(".header-burger"),ce=document.querySelector(".menu-close-button"),le=document.querySelectorAll(".social-links-link"),w=()=>{const t=S.getAttribute("aria-expanded")==="true"||!1;S.setAttribute("aria-expanded",!t),K.classList.toggle("is-open");const n=t?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[n](document.body)};le.forEach(t=>t.addEventListener("click",w));S.addEventListener("click",w);ce.addEventListener("click",w);window.matchMedia("(min-width: 768px)").addEventListener("change",t=>{t.matches&&(K.classList.remove("is-open"),S.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))});export{se as o};
//# sourceMappingURL=mob-menu-9cc952d5.js.map
